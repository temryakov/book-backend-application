version: '3.8'
services:

  bookdb:
   extends:
      file: ./book-service/service.yml
      service: postgres
  book-service:
    extends:
      file: ./book-service/service.yml
      service: service
    depends_on:
      - bookdb

  reviewdb:
   extends:
      file: ./review-service/service.yml
      service: postgres
  review-service:
    extends:
      file: ./review-service/service.yml
      service: service
    depends_on:
      - reviewdb
  
  userdb:
   extends:
      file: ./user-service/service.yml
      service: postgres
  user-service:
    extends:
      file: ./user-service/service.yml
      service: service
    depends_on:
      - userdb

volumes:
  bs-data:
  rs-data:
  us-data: